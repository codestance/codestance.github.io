function setAstronaut(t){return $(".astronaut").css("top",t.y-$(".home").css("padding-bottom")+"px"),$(".astronaut").css("left",t.x-$(".astronaut").width()/2+"px"),$(".astronaut").css("opacity",1),{y:$(".astronaut").offset().top,x:$(".astronaut").offset().left}}function flyAstronaut(){let t=setAstronaut({y:$(".planet").offset().top,x:$(".planet").offset().left+$(".planet").width()/2});const o={y:$(".moon").offset().top+$(".moon").height()/2,x:$(".moon").offset().left+$(".moon").width()/2-$(".astronaut").width()/2};console.log("astronaut: ",t,"moon: ",o);let a=Math.abs(o.x-t.x),n=Math.abs(o.y-t.y);console.log("routeX: ",a,"routeY: ",n);const s=t.y+$(".astronaut").height();let e,c,l=0,i=s;$(window).on("scroll",function(){o.y>i?(c=o.y/n*$(window).scrollTop(),e=i/n*a,i=c+s,o.x<t.x&&(e=-e),console.log("stepX: ",e)):(l=360,$(".potential-typing").addClass("typing")),console.log("stepY: ",c,"stepX: ",e,"foot: ",i),$(".astronaut").css("transform","translate("+e+"px,"+c+"px) rotate("+l+"deg)"),l=i/n*360%360})}$(function(){createCanvas(),setInterval(shine,1e3),$(window).on("resize",createCanvas),$(document).scroll(function(){$(".navigation").toggleClass("scrolled",$(this).scrollTop()>$(window).height()-150)}),$(".nav-link").on("click",function(){$(".navbar-collapse").removeClass("show")})}),Promise.all(Array.from(document.images).filter(t=>!t.complete).map(t=>new Promise(o=>{t.onload=t.onerror=o}))).then(()=>{flyAstronaut(),$(window).on("resize",flyAstronaut)});const canvas=$("<canvas></canvas>").addClass("canvas-stars").attr("aria-hidden","true");$(".home").append(canvas);const ctx=canvas[0].getContext("2d");function createCanvas(){ctx.fillRect(0,0,ctx.canvas.width,ctx.canvas.height),canvas[0].height=canvas[0].clientHeight,canvas[0].width=canvas[0].clientWidth;for(let t=0;t<120;t++)new Circle}const stars=[];function shine(){for(let t=0;t<3;t++){let t=stars[~~(Math.random()*stars.length)];ctx.beginPath(),ctx.globalCompositeOperation="destination-out",ctx.arc(t[0],t[1],t[2]+1,0,2*Math.PI),ctx.fill(),setTimeout(function(){ctx.beginPath(),ctx.globalCompositeOperation="source-over",ctx.fillStyle=t[3],ctx.arc(t[0],t[1],t[2],0,2*Math.PI),ctx.fill()},500)}}const Circle=function(){let t=window.innerHeight,o=window.innerWidth,a=Math.floor(2*Math.random())+2,n=Math.random()*(o-2*a)+a,s=Math.random()*(t-2*a)+a;ctx.beginPath(),ctx.fillStyle="rgb(255,255,255)",ctx.globalAlpha=.9,stars.push([n,s,a,"rgb(255,255,255)"]),ctx.arc(n,s,a,0,2*Math.PI),ctx.fill()};